{"ast":null,"code":"import React,{useState}from'react';import API from'../api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateQuiz=()=>{const[title,setTitle]=useState('');const[questions,setQuestions]=useState([{text:'',options:['','','',''],correctAnswer:0}]);// Handle changes to the quiz title\nconst handleTitleChange=e=>{setTitle(e.target.value);};// Handle changes to a specific question\nconst handleQuestionChange=(index,field,value)=>{const updatedQuestions=[...questions];if(field==='text'){updatedQuestions[index].text=value;}else if(field==='correctAnswer'){updatedQuestions[index].correctAnswer=parseInt(value);}setQuestions(updatedQuestions);};// Handle changes to a specific option\nconst handleOptionChange=(questionIndex,optionIndex,value)=>{const updatedQuestions=[...questions];updatedQuestions[questionIndex].options[optionIndex]=value;setQuestions(updatedQuestions);};// Add a new question\nconst addQuestion=()=>{setQuestions([...questions,{text:'',options:['','','',''],correctAnswer:0}]);};// Remove a question\nconst removeQuestion=index=>{const updatedQuestions=questions.filter((_,i)=>i!==index);setQuestions(updatedQuestions);};// Submit the quiz\nconst createQuiz=async()=>{try{await API.post('/quizzes',{title,questions});alert('Quiz created successfully!');setTitle('');setQuestions([{text:'',options:['','','',''],correctAnswer:0}]);}catch(error){var _error$response;console.error('Error creating quiz:',((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||error.message);alert('Failed to create quiz.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-2xl mx-auto mt-10 p-6 bg-white shadow-md rounded\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Create Quiz\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Quiz Title\",value:title,onChange:handleTitleChange,className:\"border p-2 w-full mb-4\"}),questions.map((question,questionIndex)=>/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 border p-4 rounded\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-semibold\",children:[\"Question \",questionIndex+1]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Question Text\",value:question.text,onChange:e=>handleQuestionChange(questionIndex,'text',e.target.value),className:\"border p-2 w-full mb-4\"}),question.options.map((option,optionIndex)=>/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:`Option ${optionIndex+1}`,value:option,onChange:e=>handleOptionChange(questionIndex,optionIndex,e.target.value),className:\"border p-2 w-full\"})},optionIndex)),/*#__PURE__*/_jsx(\"label\",{className:\"block font-semibold mt-4\",children:\"Correct Answer (0-based index):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",max:\"3\",value:question.correctAnswer,onChange:e=>handleQuestionChange(questionIndex,'correctAnswer',e.target.value),className:\"border p-2 w-full\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeQuestion(questionIndex),className:\"bg-red-500 text-white px-4 py-2 mt-4 rounded\",children:\"Remove Question\"})]},questionIndex)),/*#__PURE__*/_jsx(\"button\",{onClick:addQuestion,className:\"bg-blue-500 text-white px-4 py-2 rounded mb-6\",children:\"Add Question\"}),/*#__PURE__*/_jsx(\"button\",{onClick:createQuiz,className:\"bg-green-500 text-white px-4 py-2 rounded w-full\",children:\"Create Quiz\"})]});};export default CreateQuiz;","map":{"version":3,"names":["React","useState","API","jsx","_jsx","jsxs","_jsxs","CreateQuiz","title","setTitle","questions","setQuestions","text","options","correctAnswer","handleTitleChange","e","target","value","handleQuestionChange","index","field","updatedQuestions","parseInt","handleOptionChange","questionIndex","optionIndex","addQuestion","removeQuestion","filter","_","i","createQuiz","post","alert","error","_error$response","console","response","data","message","className","children","type","placeholder","onChange","map","question","option","min","max","onClick"],"sources":["G:/CS218_CloudComputing/quiz-app-api/quiz-app-frontend/src/components/CreateQuiz.js"],"sourcesContent":["import React, { useState } from 'react';\nimport API from '../api';\n\nconst CreateQuiz = () => {\n  const [title, setTitle] = useState('');\n  const [questions, setQuestions] = useState([\n    { text: '', options: ['', '', '', ''], correctAnswer: 0 },\n  ]);\n\n  // Handle changes to the quiz title\n  const handleTitleChange = (e) => {\n    setTitle(e.target.value);\n  };\n\n  // Handle changes to a specific question\n  const handleQuestionChange = (index, field, value) => {\n    const updatedQuestions = [...questions];\n    if (field === 'text') {\n      updatedQuestions[index].text = value;\n    } else if (field === 'correctAnswer') {\n      updatedQuestions[index].correctAnswer = parseInt(value);\n    }\n    setQuestions(updatedQuestions);\n  };\n\n  // Handle changes to a specific option\n  const handleOptionChange = (questionIndex, optionIndex, value) => {\n    const updatedQuestions = [...questions];\n    updatedQuestions[questionIndex].options[optionIndex] = value;\n    setQuestions(updatedQuestions);\n  };\n\n  // Add a new question\n  const addQuestion = () => {\n    setQuestions([\n      ...questions,\n      { text: '', options: ['', '', '', ''], correctAnswer: 0 },\n    ]);\n  };\n\n  // Remove a question\n  const removeQuestion = (index) => {\n    const updatedQuestions = questions.filter((_, i) => i !== index);\n    setQuestions(updatedQuestions);\n  };\n\n  // Submit the quiz\n  const createQuiz = async () => {\n    try {\n      await API.post('/quizzes', { title, questions });\n      alert('Quiz created successfully!');\n      setTitle('');\n      setQuestions([{ text: '', options: ['', '', '', ''], correctAnswer: 0 }]);\n    } catch (error) {\n      console.error('Error creating quiz:', error.response?.data || error.message);\n      alert('Failed to create quiz.');\n    }\n  };\n\n  return (\n    <div className=\"max-w-2xl mx-auto mt-10 p-6 bg-white shadow-md rounded\">\n      <h2 className=\"text-xl font-bold mb-4\">Create Quiz</h2>\n\n      {/* Quiz Title */}\n      <input\n        type=\"text\"\n        placeholder=\"Quiz Title\"\n        value={title}\n        onChange={handleTitleChange}\n        className=\"border p-2 w-full mb-4\"\n      />\n\n      {/* Questions */}\n      {questions.map((question, questionIndex) => (\n        <div key={questionIndex} className=\"mb-6 border p-4 rounded\">\n          <h3 className=\"font-semibold\">Question {questionIndex + 1}</h3>\n          <input\n            type=\"text\"\n            placeholder=\"Question Text\"\n            value={question.text}\n            onChange={(e) =>\n              handleQuestionChange(questionIndex, 'text', e.target.value)\n            }\n            className=\"border p-2 w-full mb-4\"\n          />\n\n          {/* Options */}\n          {question.options.map((option, optionIndex) => (\n            <div key={optionIndex} className=\"mb-2\">\n              <input\n                type=\"text\"\n                placeholder={`Option ${optionIndex + 1}`}\n                value={option}\n                onChange={(e) =>\n                  handleOptionChange(questionIndex, optionIndex, e.target.value)\n                }\n                className=\"border p-2 w-full\"\n              />\n            </div>\n          ))}\n\n          {/* Correct Answer */}\n          <label className=\"block font-semibold mt-4\">\n            Correct Answer (0-based index):\n          </label>\n          <input\n            type=\"number\"\n            min=\"0\"\n            max=\"3\"\n            value={question.correctAnswer}\n            onChange={(e) =>\n              handleQuestionChange(questionIndex, 'correctAnswer', e.target.value)\n            }\n            className=\"border p-2 w-full\"\n          />\n\n          {/* Remove Question Button */}\n          <button\n            onClick={() => removeQuestion(questionIndex)}\n            className=\"bg-red-500 text-white px-4 py-2 mt-4 rounded\"\n          >\n            Remove Question\n          </button>\n        </div>\n      ))}\n\n      {/* Add Question Button */}\n      <button\n        onClick={addQuestion}\n        className=\"bg-blue-500 text-white px-4 py-2 rounded mb-6\"\n      >\n        Add Question\n      </button>\n\n      {/* Submit Quiz Button */}\n      <button\n        onClick={createQuiz}\n        className=\"bg-green-500 text-white px-4 py-2 rounded w-full\"\n      >\n        Create Quiz\n      </button>\n    </div>\n  );\n};\n\nexport default CreateQuiz;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}